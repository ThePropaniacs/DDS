@model IPagedList<DDSDemoDAL.TimeSheet>

@using PagedList;
@using PagedList.Mvc;


@{
    ViewBag.Title = "EmployeeIndex";
}

<h2>Employee TimeSheets</h2>

<p>
    @Html.ActionLink("Create New", "EmployeeCreate")
</p>
<table class="table">
    <tr>
        <th>
            Employee
        </th>
        <th>
            Client
        </th>
        <th>
           Start Time
        </th>
        <th>
            Stop Time
        </th>
        <th>
            Elapsed Time
        </th>
        <th>
            Note
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Employee.FullName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Client.CompanyName)
        </td>
        <td>
            @(item.StartTime.HasValue ? item.StartTime.Value.ToShortTimeString() : "--") <br/>
            @(item.StartTime.HasValue ? item.StartTime.Value.ToShortDateString() : "--") 
        </td>
        <td>
            @(item.StopTime.HasValue ? item.StopTime.Value.ToShortTimeString() : "--") <br />
            @(item.StopTime.HasValue ? item.StopTime.Value.ToShortDateString() : "--")
        </td>
        <td>
            @item.ElapsedTime.ToString(@"hh\:mm\:ss")
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Note)
        </td>
        <td>
            @Html.ActionLink("Manage", "EmployeeManage", new { id = item.ID }) |
            @Html.ActionLink("Details", "EmployeeDetails", new { id = item.ID }) 
        </td>
    </tr>
}

</table>
@Html.PagedListPager(Model, page => Url.Action("EmployeeIndex", new { page, id = Request.QueryString["id"] }))
